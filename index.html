<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DOM Manipulation & JS Modules - Full Example</title>
<style>
    /* === Basic Styling === */
    body {
        font-family: Arial, sans-serif;
        background-color: #eef2f7;
        margin: 0;
        padding: 0;
    }

    h2 {
        text-align: center;
        color: #333;
    }

    /* Button styling */
    .click-me {
        background-color: dodgerblue;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    .click-me:hover {
        transform: scale(1.1);
    }

    /* Card containers */
    #cardContainer, #profileContainer {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 20px;
    }

    /* Card styles */
    .card, .profile-card {
        background: lightblue;
        padding: 10px;
        border-radius: 8px;
        width: 150px;
        text-align: center;
    }

    /* Delete/Remove buttons */
    .delete-btn, .remove-btn {
        background: red;
        color: white;
        border: none;
        padding: 5px;
        margin-top: 8px;
        cursor: pointer;
    }
</style>
</head>
<body>

<!-- Heading -->
<h2 id="mainHeading">Student Registration - DOM & Modules Demo</h2>

<!-- === Mini-Activity: Create Card === -->
<div style="text-align:center; margin: 20px;">
    <button id="createCardBtn" class="click-me">Create Card</button>
</div>
<!-- Container where cards will be added -->
<div id="cardContainer"></div>

<!-- === Practical Activity: Add Profile === -->
<div style="text-align:center; margin: 20px;">
    <button id="addProfileBtn" class="click-me">Add Profile</button>
</div>
<!-- Container where profile cards will be added -->
<div id="profileContainer"></div>

<!-- Importing main JavaScript (ES module syntax) -->
<script type="module">

/* 
    ======== mathUtils.js (Module) ========
    This file will export named and default functions
*/
export function add(a, b) {
    return a + b;
}
export function multiply(a, b) {
    return a * b;
}
export default function greet(name) {
    return Hello, ${name}!;
}

</script>

<script type="module">

/* 
    ======== cardModule.js (Module) ========
    This file will handle creating profile cards dynamically
*/
export function createProfileCard(name, role) {
    // Create a div for profile card
    const card = document.createElement("div");
    card.className = "profile-card";

    // Add inner HTML with name, role, and remove button
    card.innerHTML = `
        <h3>${name}</h3>
        <p>${role}</p>
        <button class="remove-btn">Remove</button>
    `;

    // Remove button event listener
    card.querySelector(".remove-btn").addEventListener("click", () => {
        card.remove();
    });

    return card;
}

</script>

<script type="module">
/* 
    ======== main.js ========
    This file imports from mathUtils.js and cardModule.js
    and handles DOM manipulation logic
*/

    // Importing from "mathUtils" module
    import greet, { add, multiply } from './mathUtils.js';

    // Importing from "cardModule" module
    import { createProfileCard } from './cardModule.js';

    // Log greetings and math results to console
    console.log(greet("Kavitha"));
    console.log("Add:", add(5, 3));
    console.log("Multiply:", multiply(4, 2));

    // === Selecting elements using DOM methods ===
    const heading = document.getElementById("mainHeading");
    const createCardBtn = document.querySelector("#createCardBtn");
    const cardContainer = document.querySelector("#cardContainer");

    // === Mini-Activity: Create Card ===
    createCardBtn.addEventListener("click", () => {
        // Create new card div
        const card = document.createElement("div");
        card.className = "card";
        card.textContent = "This is a card"; // Setting text

        // Create delete button
        const deleteBtn = document.createElement("button");
        deleteBtn.textContent = "Delete";
        deleteBtn.className = "delete-btn";

        // Add delete functionality
        deleteBtn.addEventListener("click", () => {
            card.remove();
        });

        // Append delete button to card
        card.appendChild(deleteBtn);

        // Append card to container
        cardContainer.appendChild(card);

        // Change heading style and text
        heading.textContent = "New Card Added!";
        heading.style.color = "green";
    });

    // === Practical Activity: Add Profile ===
    const addProfileBtn = document.querySelector("#addProfileBtn");
    const profileContainer = document.querySelector("#profileContainer");

    addProfileBtn.addEventListener("click", () => {
        const name = prompt("Enter Name:");
        const role = prompt("Enter Role:");

        if (name && role) {
            const profileCard = createProfileCard(name, role);
            profileContainer.appendChild(profileCard);
        }
    });

</script>

</body>
</html>